# Items As Totem (IAT)

一个改变 Minecraft 生存模式核心玩法的模组，让所有物品都拥有不死图腾的效果

## 核心功能

### 🎯 生命值限制
- 生存模式下玩家恒定只有 **1 颗心**（2 点生命值）
- 无法通过任何方式获得额外生命值或吸收护盾

### 🛡️ 物品不死保护
- **所有背包内物品**都拥有不死图腾的免死效果
- 当生命值归零时，会随机选择一个物品触发免死保护
- **注意**：只有免死效果，没有原版不死图腾的抗火和生命回复效果
- **不免疫虚空伤害** - 掉入虚空仍然会直接死亡

### 🎲 随机选择机制
当触发免死保护时，系统会从你的物品栏（背包）中随机选择一个物品：
- **默认模式**：按物品堆叠数权重随机（物品数量越多，被选中的概率越大）
- **可选模式**：按物品栏槽位等权重随机（每个槽位被选中的概率相同）
任何模式下都不允许连续两次选择相同物品，若仅剩相同物品则不触发免死效果

### ⚠️ 随机物品消失机制（可选）
启用后，当物品被选中触发免死保护时：
- 如果该物品可堆叠且数量大于1
- 系统会随机生成一个 1-64 的数字
- 如果该组物品数量**小于**随机数字，则**整组物品消失**
- 如果该组物品数量**大于等于**随机数字，则只消耗随机数量的物品

**示例**：你有两组圆石，一组24个，另一组32个。如果选中24个那组，随机到60，则24个圆石全部消失；32个那组不受影响。

## 命令配置

管理员可以使用以下命令调整模组设置：

### 随机模式设置
- `/totem fold` - 启用**按物品栏等权重随机模式**（每个槽位概率相同）
- `/totem unfold` - 启用**按物品堆叠数权重随机模式**（默认，数量越多概率越大）

### 装备栏设置
- `/totem equip_on` - 允许**装备栏物品**参与免死保护抽取
- `/totem equip_off` - 禁止装备栏物品参与免死保护抽取（默认）

### 物品消失机制
- `/totem threshold_on` - 启用可堆叠物品**消失随机数量**机制
- `/totem threshold_off` - 禁用物品消失随机数量机制（默认）

## 兼容性
- Minecraft 1.21.8
- Fabric Loader
- 需要 Fabric API

## 开发者
BaicaiBear - [GitHub](https://github.com/BaicaiBear)

---

**享受这个高难度的生存挑战吧！每一个物品都可能成为你的救命稻草，但也可能带来意想不到的损失。**
